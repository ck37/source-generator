<html>
<head>
<title>Source Code Generator | ck37.com</title>
<script src="//ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js" type="text/javascript"></script>
</head>
<body onload="handleOnload()">
<style type="text/css">
#base-url {
	width: 400px;
}
body, td {
	font-size: 9pt;
}
</style>
Base URL: <input type="text" id="base-url" onchange="update()" onfocus="setTimeout('update()', 500)" onblur="update()" onclick="update()" /><br />
Campaign Abbreviation: <input type="text" id="base-campaign" onclick="update()" onchange="update()" /><br />
Email Subject: <input type="text" id="subsource" onclick="update()" onchange="update()" />
<br />
<script type="text/javascript">

function handleOnload() {
	// Restore data from cookies.
}

function update() {
	var base_url = $("#base-url").val();
	if (base_url == "") return;

	base_url += (base_url.match(/\?/) ? "&" : "?");

	var base_campaign = $("#base-campaign").val();
	if (base_campaign == "") {
		var today = new Date();
		var month = today.getMonth() + 1;
		month = (month < 10 ? "0" : "") + month;
		var day = today.getDate();
		day = (day < 10 ? "0" : "") + day;
		base_campaign = base_url.replace(/^.*\/(.*?)\?.*?$/, "$1") + "-" + today.getFullYear() + month + day;
		$("#base-campaign").val(base_campaign);
	}

  var subsource = $("#subsource").val().toLowerCase().replace(/ /g, '-').replace(/[^-a-z0-9]+/g, '');

  var forward_source = "em-fwd";

	var text_url = base_url + "source=" + forward_source + (subsource != ''? '&subsource=' + subsource : '') +  "&utm_source=crm_email&utm_medium=email&utm_campaign=" + base_campaign + "&utm_content=plainlink";
	$("#text-link1").html(text_url);
	$("#text-link2").html(text_url);
	$("#text-link3").html(text_url);
	$("#text-link4").html(text_url);
	$("#text-link5").html(text_url);
	$("#text-callout-box").html(text_url);
	$("#text-callout-image").html(text_url);
	$("#text-ps").html(text_url);

	var html_url = base_url + "source=" + forward_source + (subsource != ''? '&subsource=' + subsource : '') + "&utm_source=crm_email&utm_medium=email&utm_campaign=" + base_campaign + "&utm_content=";
	$("#html-link1").html(html_url + "link1");
	$("#html-link2").html(html_url + "link2");
	$("#html-link3").html(html_url + "link3");
	$("#html-link4").html(html_url + "link4");
	$("#html-link5").html(html_url + "link5");
	$("#html-callout-box").html(html_url + "calloutbox");
	$("#html-callout-image").html(html_url + "calloutimg");
	$("#html-ps").html(html_url + "pslink");

	$("#spread-thanks-email").html(base_url + "source=sprd-ty&utm_source=spread_email&utm_medium=email&utm_campaign=" + base_campaign);
	$("#spread-tell-a-friend").html(base_url + "source=sprd-taf&utm_source=spread_email&utm_medium=email&utm_campaign=" + base_campaign);
	$("#spread-facebook").html(base_url + "source=sprd-fb%26utm_source=facebook%26utm_medium=facebook%26utm_campaign=" + base_campaign);
	$("#spread-twitter").html(base_url + "source=sprd-twt&utm_source=twitter&utm_medium=twitter&utm_campaign=" + base_campaign);

	$("#post-facebook").html(base_url + "source=sm-fb-post&utm_source=facebook&utm_medium=facebook&utm_campaign=" + base_campaign);
	$("#post-twitter").html(base_url + "source=sm-twt-post&utm_source=twitter&utm_medium=twitter&utm_campaign=" + base_campaign);
	$("#post-blog").html(base_url + "source=web-blog&utm_campaign=" + base_campaign);
	$("#post-news").html(base_url + "source=sm-news&utm_campaign=" + base_campaign);
}
</script>
<h2>Email Links</h2>
<table cellpadding="4" cellspacing="0">
<tr><th>&nbsp;</th><th>HTML Version</th><th>Plain-text Version</th></tr>
<tr><td>Link1</td><td id="html-link1">&nbsp;</td><td id="text-link1">&nbsp;</td></tr>
<tr><td>Link2</td><td id="html-link2">&nbsp;</td><td id="text-link2">&nbsp;</td></tr>
<tr><td>Link3</td><td id="html-link3">&nbsp;</td><td id="text-link3">&nbsp;</td></tr>
<tr><td>Link4</td><td id="html-link4">&nbsp;</td><td id="text-link4">&nbsp;</td></tr>
<tr><td>Link5</td><td id="html-link5">&nbsp;</td><td id="text-link5">&nbsp;</td></tr>
<tr><td>Callout Box</td><td id="html-callout-box">&nbsp;</td><td id="text-callout-box">&nbsp;</td></tr>
<tr><td>Callout Image</td><td id="html-callout-image">&nbsp;</td><td id="text-callout-image">&nbsp;</td></tr>
<tr><td>PS</td><td id="html-ps">&nbsp;</td><td id="text-ps">&nbsp;</td></tr>
</table>
<h2>Viral Spread</h2>
<ul>
<li>Thanks Email: <span id="spread-thanks-email"></span></li>
<li>Tell A Friend Email: <span id="spread-tell-a-friend"></span></li>
<li>Facebook Spread: <span id="spread-facebook"></span></li>
<li>Twitter Spread: <span id="spread-twitter"></span></li>
</ul>
<h2>Social Media Posts</h2>
<ul>
<li>Facebook: <span id="post-facebook"></span></li>
<li>Twitter: <span id="post-twitter"></span></li>
<li>Blog: <span id="post-blog"></span></li>
<li>Social News: <span id="post-news"></span></li>
</ul>
</body>
</html>
